> **우선순위 역전 Priority Inversion**
> 

---

⇒ 우선순위가 낮은 프로세스가 우선순위가 높은 프로세스 보다 먼저 처리되는 현상

**ㅤ**

<img width="940" height="463" alt="image" src="https://github.com/user-attachments/assets/9544b370-c3bf-47c4-a2f6-cdce6bb41460" />

⇒ 다음과 같은 상황에서 우선순위 역전이 일어난다

**ㅤ**

- task3이 공유 자원 접근을 위해 바이너리 세마포어 획득
    
    binary semaphore란 ?
    
    세마포어 값을 1/0 중 하나만 값는 것
    
1. 스케줄러에 의해 task1이 수행됨
2. task1은 task3이 갖고 있는 세마포어를 획득하기 위해 기다림
3. 스케줄러에 의해 task3이 다시 실행됨
4. 이 때 세마포어와 관련 없는 task2가 task3보다 우선순위가 높아 스케줄러에 의해 실행됨
5. 그러면서 task3이 완료가 뒤로 밀리며, 우선순위가 가장 높은 task1이 가장 늦게 실행됨

**ㅤ**

- task3이 점유하다가 task2한테 뺏기고 한 순위 밀림 → task1이 가장 끝으로 밀림림

**ㅤ**

**해결 방안**

- task1이 task3이 갖고 있는 세마포어를 획득하기 위해 waiting을 한다면, task3의 우선순위를 task1만큼 임시적으로 높혀주면 된다

**ㅤ**

**단점**

- 공유 자원이 여러 개 있는 상황에서 순환 대기가 일어난다면 데드락이 발생할 수 있다
    
    > task2가 S1(세마포어1)을 획득한 후 임계 영역을 실행하던 중 task1이 실행되고, task1이 실행중에 S2를 요청하고, 획득한 후, S1을 요청하면 task2를 기다리게 됨
    > 
    
    ⇒ 상호 배제, 점유 및 대기, 순환 대기, 비선점이 모두 일어나므로 데드락
