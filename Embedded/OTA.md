> **Over-The-Air programming**
> 

---

⇒ 새로운 소프트웨어, 펌웨어, 암호화 키 업데이트를 휴대전화 등의 장치에 무선으로 배포하기 위한 방식이다. 

⇒ 한 번 추가된 기능은 비휘발성 메모리에서 다시 수정하기 위해 하드웨어적연결이 필요했는데, 이를 해결하기 위해 무선으로 배포하는 기술인 OTA가 등장했다

**ㅤ**

### 특징

- 무선으로 업데이트 코드를 배포할 수 있다
- 하나의 중앙 제어소에서 모든 사용자에게 전송 가능하다
- 업데이트는 채널을 통해 모든 사용자에게 즉시 적용된다
- 보안에 취약하다

**ㅤ**

![image.png](attachment:16478bcc-56a7-496f-b4a1-424f22058513:image.png)

**ㅤ**

> **차량에서의 OTA 트렌드**
> 

---

1. 악의적 공격을 방어 및 예방
    - OTA를 사용하여 악의적 공격에 대한 방어를 즉시 할 수 있다
    
    **ㅤ**
    
2. SW 업데이트 비용 절감
    - 자동차를 예로 들어 OTA를 사용하면 리콜을 하지 않고 소프트웨어 업데이트를 할 수 있다

**ㅤ**

1. 생명주기에 걸쳐 신기능과 기술 적용
    - 스마트폰처럼 운영체제나 SW를 업데이트해 사용자에게 새로운 버전을 계속 제공할 수 있다

**ㅤ**

> **OTA동작 구조**
> 

---

**OTA 동작 구조**

1. 배포 준비 (서버) : 빌드 → 패키징 → 서명 → 저장
2. 장치 수신 (클라이언트) : 서버에 업데이트 존재 확인
3. 다운로드 : 패키지 스트리밍
4. 검증 : 해시/서명/버전 등 무결성 인증 확인
5. 플래싱 (안전한 교체) : A/B 파티션 또는 일시적 스테이징 파티션에 기록
6. 검증 부팅 : 새로운 이미지로 부팅 후 헬스체크 (핵심 서비즈 정상화 확인)
7. 커밋 또는 롤백 : 헬스체크 성공 시 커밋 / 실패 시 자동 롤백
8. 리포트 : 성공/실패 상태를 서버로 전송

**ㅤ**

> **OTA 보안 기술/절차**
> 

---

1. 서명 방식
    - SHA-256 해시 + ECDSA (P-256) 서명
2. 키 보관 
    - 퍼블릭키는 기기 내부의 변조 불가능하 영역에 저장
    - 프라이빗키는 서버에서만 보유
3. 서명 검증 위치
    - 부트로더에서 1차 검증, 업데이트 에이전트도 재검증
4. 전송 보안
    - TLS (서버 인증서 검증)
    - 인증서 핀닝 사용
5. 암호화
    - 바이너리 암호화 필요 시 대칭키 + 기기별 키로 매칭
