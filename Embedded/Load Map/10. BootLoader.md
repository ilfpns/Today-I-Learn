> **부트로더 / Boot Loader**
> 

---

⇒ 부팅 시 처음으로 실행되는 프로그램이다.

⇒ Application을 로드하고 실행하며, 초기 설정을 한다

⇒ 주로 ROM, flash 메모리, EEPROMM에 저장되어있다.

### 부트로더의 기능

⇒ boot : 펌웨어를 실행하기 위한 최소한의 초기화, 부팅 디바이스 (Flash memort, SD카드 등) 선택

⇒ Loader : 펌웨어를 실행할 메모리에 Load 또는 펌웨어가 있는 메모리로 Jump해서 실행

⇒ Update : 펌웨어 업데이트 (via 통신, SD카드 등)

### 부트로더 추가 시 단점

1. 부트로더 구현을 위한 별도 메모리 공간 필요
2. 생산시 부트로더 다운로드 공정이 추가됨
3. 부트로더 자체는 업데이트가 어려움

⇒ 다음과 같은 케이스에서 부트로더는 사용되지 않는다.

- 펌웨어 업데이트가 필요 없는 제품
- 별도 부트로더가 필요 없는 MCU (특정 툴이 Flash Memory에 Write하면 바로 실행됨)

### 왜 이걸 배워야 할까

⇒ FirmWare 흐름을 알면 이해할 수 있다.

1. VSC 에서 코드 작성
2. [idf.py](http://idf.py) build flash monitor 실행
3. VCS가 내부적으로 프래싱 툴 (esptool.py 등) 호출
4. MCU의 부트로더 모드에 들어가서 Flash 메모리에 프로그램 기록
5. 전원이 켜질 때 Flash에서 코드를 읽어와 MCU가 실행하도록 도움
6. 리셋 → MCU가 Flash 안의 프로그램 실행

### 부트로더 적용시 메모리 구조

<img width="529" height="346" alt="image" src="https://github.com/user-attachments/assets/2570bfbb-194f-4a86-8b8b-701b8c269e8d" />

⇒ 반드시 리셋 시 처음 실행되는 위치에 있어야 한다.
