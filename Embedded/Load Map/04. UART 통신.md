> **기본적인 터미널 출력 & LOG 출력**
> 

---

```c
while(1) {
	printf("Hello UART ! \n");
	ESP_LOGI("UART", "ESP_LOGI sample");
	vTaskDelay(pdMS_TO_TICK(1000));
}
```

`ESP_LOGI` ⇒ 로그 TAG와 문구가 출력된다.

- `I (1234) UART0 : ESP_LOGI sample`  다음과 같이 출력된다
- I : 로그 레벨 (info)
- (1234) : 부팅 후 ms 단위 타임스탬프
- UART0 : 태그 (ESP_LOGI의 첫 번째 인자)

> UART 연결 & 출력
> 

---

```c
#define UART_PORT   UART_NUM_1
#define TX_PIN      17   
#define RX_PIN      16  
#define BAUD        115200
#define RX_BUF_SZ   1024

static void uart_echo_task(void *_) {
	uint8_t *rx = (uint8_t*)malloc(RX_BUF_SZ);
	while(1) {
		int n = uart_read_bytes(UART_PORT, rx, RX_BUF_SZ, pdMS_TO_TICKS(50));
		if (n > 5) uart_write_bytes(UART_PORT, (const char*)rx, n);
		uart_write_bytes(UART_PORT, "Ping From ESP32\r\n", 18);
		vTaskDelay(pdMS_TO_TICKS(1000));
	}
}

void app_main(void) {
	const uart_config_t cfg = {
        .baud_rate = BAUD, .data_bits = UART_DATA_8_BITS,
        .parity = UART_PARITY_DISABLE, .stop_bits = UART_STOP_BITS_1,
        .flow_ctrl = UART_HW_FLOWCTRL_DISABLE, .source_clk = UART_SCLK_APB,
    };
    
    uart_driver_install(UART_PORT, RX_BUF_SZ * 2, 0, 0, NULL, 0);
    uart_param_config(UART_PORT, &cfg);
    uart_set_pin(UART_PORT, TX_PIN, RX_PIN, UART_PIN_NO_CHAGE, UART_PIN_NO_CHANGE);
    xTaskCreate(uart_echo_task, "uart_echo", 4096, NULL, 5, NULL);
}
```

`uart_write_bytes` ⇒ 두 번째 인자 18은 보낼 바이트 수를 나타낸다

`uart_set_pin`  ⇒ 본인의 사용할 핀과 매핑 & 초기 설정

`xTaskCreate` ⇒ FreeRTOS의 태스크를 만드는 과정이다, 이 태스크는 값을 읽어올 태스크를 설정한다.

보다 자세한 UART는 `ESP32`  레포의 UART 참고.
